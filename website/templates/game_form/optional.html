<div class="col-lg-3 p-3">
  <div class="row">
      <div class="figure"><img id="imgPreview" alt="placeholder" src="{% if game and game.img %}{{ game.img }}{% else %}/static/img/placeholder.jpeg{% endif %}" class="figure-img img-fluid rounded img-preview" onerror="this.src='/static/img/placeholder.jpeg'" role="presentation"></div>
      <div class="modal fade" id="uploadModal" tabindex="-1" aria-labelledby="uploadImageModal" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5">Choisir une image</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="input-group mb-2">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="imgLink" name="img" {% if game and game.img %}value="{{ game.img }}" {% endif %}>
                            <label for="imgLink" class="form-label">Lien vers l'image :</label>
                        </div>
                        <button id="imgSelect" type="button" class="btn btn-primary" data-bs-dismiss="modal" aria-label="Close">Choisir</button>
                    </div>
                </div>
                <div class="modal-footer">
                    <p>Vous pouvez utiliser <a href="https://imgur.com/upload" target="_blank" rel="noopener">imgur</a> pour uploader vos propres images. Ensuite, faites un clic-droit sur l'image puis "Copier le lien de l'image".</p>
                </div>
            </div>
        </div>
      </div>
  </div>
  <div class="row mx-auto mb-2">
      <button class="btn btn-outline-secondary" type="button" data-bs-toggle="modal" data-bs-target="#uploadModal">Choisir une image</button>
  </div>
  <div class="row">
    <div class="mb-2">
        <p class="form-label"><strong>Classification du scénario :</strong></p>
        <div class="row">
            <p class="col-sm-4 col-form-label">Action</p>
            <div class="btn-group col-sm-8" role="group" aria-label="Action">
                <input type="radio" class="btn-check" name="class-action" value="none" id="noaction" autocomplete="off" {% if (game and game.classification.action==0) or not game %}checked{% endif %}>
                <label class="btn btn-outline-secondary btn-sm" for="noaction">Absent</label>
                <input type="radio" class="btn-check" name="class-action" value="min" id="minaction" autocomplete="off" {% if game and game.classification.action==1 %}checked{% endif %}>
                <label class="btn btn-outline-primary btn-sm" for="minaction">Mineur</label>
                <input type="radio" class="btn-check" name="class-action" value="maj" id="majaction" autocomplete="off" {% if game and game.classification.action==2 %}checked{% endif %}>
                <label class="btn btn-outline-danger btn-sm" for="majaction">Majeur</label>
            </div>
        </div>
        <div class="row">
            <p class="col-sm-4 col-form-label">Investigation</p>
            <div class="btn-group col-sm-8" role="group" aria-label="Investigation">
                <input type="radio" class="btn-check" name="class-investigation" value="none" id="noinvestigation" autocomplete="off" {% if (game and game.classification.investigation==0) or not game %}checked{% endif %}>
                <label class="btn btn-outline-secondary btn-sm" for="noinvestigation">Absent</label>
                <input type="radio" class="btn-check" name="class-investigation" value="min" id="mininvestigation" autocomplete="off" {% if game and game.classification.investigation==1 %}checked{% endif %}>
                <label class="btn btn-outline-primary btn-sm" for="mininvestigation">Mineur</label>
                <input type="radio" class="btn-check" name="class-investigation" value="maj" id="majinvestigation" autocomplete="off" {% if game and game.classification.investigation==2 %}checked{% endif %}>
                <label class="btn btn-outline-danger btn-sm" for="majinvestigation">Majeur</label>
            </div>
        </div>
        <div class="row">
            <p class="col-sm-4 col-form-label">Interaction</p>
            <div class="btn-group col-sm-8" role="group" aria-label="Interaction">
                <input type="radio" class="btn-check" name="class-interaction" value="none" id="nointeraction" autocomplete="off" {% if (game and game.classification.interaction==0) or not game %}checked{% endif %}>
                <label class="btn btn-outline-secondary btn-sm" for="nointeraction">Absent</label>
                <input type="radio" class="btn-check" name="class-interaction" value="min" id="mininteraction" autocomplete="off" {% if game and game.classification.interaction==1 %}checked{% endif %}>
                <label class="btn btn-outline-primary btn-sm" for="mininteraction">Mineur</label>
                <input type="radio" class="btn-check" name="class-interaction" value="maj" id="majinteraction" autocomplete="off" {% if game and game.classification.interaction==2 %}checked{% endif %}>
                <label class="btn btn-outline-danger btn-sm" for="majinteraction">Majeur</label>
            </div>
        </div>
        <div class="row">
            <p class="col-sm-4 col-form-label">Horreur</p>
            <div class="btn-group col-sm-8" role="group" aria-label="Horreur">
                <input type="radio" class="btn-check" name="class-horror" value="none" id="nohorror" autocomplete="off" {% if (game and game.classification.horror==0) or not game %}checked{% endif %}>
                <label class="btn btn-outline-secondary btn-sm" for="nohorror">Absent</label>
                <input type="radio" class="btn-check" name="class-horror" value="min" id="minhorror" autocomplete="off" {% if game and game.classification.horror==1 %}checked{% endif %}>
                <label class="btn btn-outline-primary btn-sm" for="minhorror">Mineur</label>
                <input type="radio" class="btn-check" name="class-horror" value="maj" id="majhorror" autocomplete="off" {% if game and game.classification.horror==2 %}checked{% endif %}>
                <label class="btn btn-outline-danger btn-sm" for="majhorror">Majeur</label>
            </div>
        </div>
    </div>
  </div>
  <div class="row">
    <p class="form-label"><strong>Ambiance recherchée :</strong></p>
    <div class="mb-2">
        <div class="form-check form-switch">
            <input class="form-check-input" role="switch" type="checkbox" aria-checked="false" id="chill" name="chill" {% if game and "chill" in game.ambience %}checked{% endif %}>
            <label class="form-check-label" for="chill">Décontractée</label>
        </div>
        <div class="form-check form-switch">
            <input class="form-check-input" role="switch" type="checkbox" aria-checked="false" name="serious" id="serious" {% if game and "serious" in game.ambience %}checked{% endif %}>
            <label class="form-check-label" for="serious">Sérieuse</label>
        </div>
        <div class="form-check form-switch">
            <input class="form-check-input" role="switch" type="checkbox" aria-checked="false" name="comic" id="comic" {% if game and "comic" in game.ambience %}checked{% endif %}>
            <label class="form-check-label" for="comic">Comique</label>
        </div>
        <div class="form-check form-switch">
            <input class="form-check-input" role="switch" type="checkbox" aria-checked="false" name="epic" id="epic" {% if game and "epic" in game.ambience %}checked{% endif %}>
            <label class="form-check-label" for="epic">Épique</label>
        </div>
    </div>
  </div>
  <div class="row pt-2 mx-auto">
      <button type="submit" name="action" value="draft" class="btn btn-secondary">Enregistrer</button>
  </div>
  {% if not game or game.status == 'draft' %}
  <div class="row pt-2 mx-auto">
      <button type="submit" name="action" value="open" class="btn btn-primary">Publier</button>
  </div>{% elif game.status != 'open' %} {% endif %}
</div>